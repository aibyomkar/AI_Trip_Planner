# # frontend

# import streamlit as st
# import requests
# import datetime

# # BASE_URL = 'http://localhost:8000'  # Backend endpoint
# BASE_URL = 'https://ai-trip-planner-backend-jrdl.onrender.com'  # Backend endpoint

# st.set_page_config(
#     page_title="Roamio AI",
#     page_icon="ğŸŒ",
#     layout="centered",
#     initial_sidebar_state='expanded'
# )

# st.markdown("""
# <div style='text-align: center; padding: 15px 0;'>
#     <h1 style='
#         font-size: 2.8rem; 
#         margin: 0;
#         font-weight: 600;
#     '>ğŸŒ <span style='
#         background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
#         -webkit-background-clip: text;
#         -webkit-text-fill-color: transparent;
#     '>Roamio AI</span></h1>
#     <p style='
#         color: #7c8db5;
#         margin: 5px 0;
#         font-size: 1rem;
#         font-style: italic;
#     '>Your AI Trip Planner by Omkar, built with complete guidance from Krish Naik & Sunny Sir.</p>
# </div>
# """, unsafe_allow_html=True)

# # Initialize chat history
# if 'messages' not in st.session_state:
#     st.session_state.messages = []

# # Display prompt
# st.header('ğŸ§­ Where shall we explore next?')

# with st.sidebar:
#    # Beautiful header
#    st.markdown("""
#    <div style='text-align: center; padding: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; margin-bottom: 15px;'>
#        <h4 style='color: white; margin: 0;'>Hey Buddy Welcome âœˆï¸</h4>
#    </div>
#    """, unsafe_allow_html=True)
   
#    st.markdown("### ğŸ¯ Quick Tips")
#    st.markdown("""
#                - For best results, prompt AI with as much details as possible
                
#                - Example: plan a 5 day trip to usa for 5 people, we prefer beaches, convert the currency from usd to inr, per person budget is between 10 lakh to 11 lakhs inr
#                """)
   
#    st.divider()
   
#    # Fun travel facts
#    st.markdown("### ğŸŒ Did You Know?")
   
#    facts = [
#        "ğŸ”ï¸ Nepal has 8 of the world's 10 tallest mountains",
#        "ğŸŒŠ Maldives has 1,192 coral islands",
#        "ğŸ•Œ India has 38 UNESCO World Heritage Sites"
#    ]
   
#    import random
#    daily_fact = random.choice(facts)
#    st.info(daily_fact)
   
#    st.divider()
      
#    # Footer
#    st.markdown("""
#    <div style='text-align: center; color: #888;'>
#        <small>ğŸ¤– Your AI Travel Buddy</small>
#    </div>
#    """, unsafe_allow_html=True)

# # Chat input box
# with st.form(key='query_form', clear_on_submit=True):
#     user_input = st.text_input('Prompt Here')
#     submit_button = st.form_submit_button('Ask AI')

# if submit_button and user_input.strip():
#     try:
#         with st.spinner('Roamio AI is thinking...'):
#             payload = {'query': user_input}
#             response = requests.post(f'{BASE_URL}/query', json=payload)

#         if response.status_code == 200:
#             answer = response.json().get('answer', 'No answer returned.')

#             # answer = answer.strip()

#             st.write(f'**Generated:** {datetime.datetime.now().strftime('%Y-%m-%d at %H:%M')}')
#             st.write(f'**Created by:** Omkar\'s Roamio AI Trip Planner')

#             st.subheader('ğŸ§­ AI Trip Plan')

#             st.markdown(answer)

#             st.info('ğŸ’¡ *Note: This trip plan was generated by AI. Please verify all details like pricing, timings, and safety measures before your trip.*')

#             st.markdown("---")
#             st.markdown(
#                 """
#                 <div style='text-align: center; color: #666; padding: 10px;'>
#                     Made with â¤ï¸ by Omkar, under the complete guidance of Krish Naik & Sunny Sir
#                 </div>
#                 """, 
#                 unsafe_allow_html=True
#             )
            
            
#         else:
#             st.error('âŒ AI failed to respond: ' + response.text)

#     except Exception as e:
#         st.error(f'ğŸš¨ The response failed due to: {e}')













































import streamlit as st
import requests
import datetime
import random

BASE_URL = 'https://ai-trip-planner-backend-jrdl.onrender.com'

st.set_page_config(page_title="Roamio AI", page_icon="ğŸŒ", layout="centered")

# Header
st.markdown("""
<div style='text-align: center; padding: 25px; background: linear-gradient(135deg, #0F0F23 0%, #1A1A40 100%); 
border-radius: 15px; margin-bottom: 25px; box-shadow: 0 8px 32px rgba(0,0,0,0.3);'>
    <h1 style='color: #FFFFFF; margin: 0; font-size: 2.5rem; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.5);'>
        ğŸŒ Roamio AI
    </h1>
    <p style='color: #A8A8FF; margin: 8px 0; font-size: 1.1rem; opacity: 0.9;'>Premium AI Trip Planner</p>
</div>
""", unsafe_allow_html=True)

# Sidebar
with st.sidebar:
    st.markdown("""
    <div style='background: linear-gradient(135deg, #6C5CE7 0%, #A29BFE 100%); padding: 20px; 
    border-radius: 12px; text-align: center; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(108, 92, 231, 0.3);'>
        <h4 style='color: #FFFFFF; margin: 0; font-weight: 600;'>Welcome Aboard âœˆï¸</h4>
    </div>
    """, unsafe_allow_html=True)
    
    st.markdown("### ğŸ¯ Pro Tips")
    st.info("ğŸ’¡ Be specific: 'Plan 5-day Japan trip, 4 people, temples & culture, $3000 budget'")
    
    facts = ["ğŸ—¾ Japan has over 6,800 islands", "ğŸ”ï¸ Switzerland has 208 mountains over 3000m", "ğŸŒº Hawaii has 137 islands total"]
    st.markdown("### âœ¨ Travel Facts")
    st.success(random.choice(facts))

# Main
st.markdown("""
<h3 style='color: #2D3748; text-align: center; font-weight: 600; margin: 25px 0; 
font-size: 1.4rem;'>ğŸ§­ Where shall we craft your perfect journey?</h3>
""", unsafe_allow_html=True)

user_input = st.text_input("", placeholder="âœ¨ Describe your dream destination & preferences...", label_visibility="hidden")
if st.button("ğŸš€ Create My Trip", type="primary", use_container_width=True):
    if user_input:
        try:
            with st.spinner("âœ¨ Crafting your perfect itinerary..."):
                response = requests.post(f'{BASE_URL}/query', json={'query': user_input})
            
            if response.status_code == 200:
                answer = response.json().get('answer', 'No answer returned.')
                
                st.markdown(f"""
                <div style='background: linear-gradient(135deg, #F8FAFC 0%, #EDF2F7 100%); 
                padding: 25px; border-radius: 15px; border: 1px solid #E2E8F0; 
                box-shadow: 0 4px 20px rgba(0,0,0,0.08); margin: 20px 0;'>
                    <div style='display: flex; justify-content: space-between; margin-bottom: 15px;'>
                        <span style='color: #4A5568; font-weight: 500;'>ğŸ“… Generated: {datetime.datetime.now().strftime("%Y-%m-%d at %H:%M")}</span>
                    </div>
                    <h4 style='color: #2B6CB0; margin: 15px 0; font-size: 1.3rem; font-weight: 600;'>
                        ğŸ—ºï¸ Roamio's response:
                    </h4>
                    <div style='color: #2D3748; line-height: 1.6;'>{answer}</div>
                </div>
                """, unsafe_allow_html=True)
                
                st.markdown("""
                <div style='background: linear-gradient(135deg, #FFF3CD 0%, #FCF4DB 100%); 
                padding: 15px; border-radius: 10px; border-left: 4px solid #F59E0B; margin: 15px 0;'>
                    <p style='color: #92400E; margin: 0; font-weight: 500;'>
                        âš¡ Professional Advice: Verify all pricing, availability & requirements before booking
                    </p>
                </div>
                """, unsafe_allow_html=True)
                
                st.markdown("""
                <div style='text-align: center; background: linear-gradient(135deg, #1A202C 0%, #2D3748 100%); 
                padding: 15px; border-radius: 12px; margin-top: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);'>
                    <p style='color: #F7FAFC; margin: 0; font-weight: 500;'>
                        Crafted with <span style='color: #F6AD55;'>âœ¨</span> by Omkar, under the complete guidance of Krish Naik & Sunny Sir
                    </p>
                </div>
                """, unsafe_allow_html=True)
            else:
                st.error("ğŸš« Service temporarily unavailable")
        except Exception as e:
            st.error(f"âš ï¸ Connection error: {e}")
    else:
        st.warning("ğŸ’­ Please share your travel vision with us")

# Premium button styling
st.markdown("""
<style>
.stButton > button {
    background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
    color: #FFFFFF;
    font-weight: 600;
    font-size: 1rem;
    border: none;
    border-radius: 10px;
    padding: 12px 24px;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    transition: all 0.3s ease;
}
.stButton > button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
}
.stTextInput > div > div > input {
    border: 2px solid #E2E8F0;
    border-radius: 10px;
    background: #FFFFFF;
    color: #2D3748;
    padding: 12px;
    font-size: 1rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
.stTextInput > div > div > input:focus {
    border-color: #667EEA;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}
</style>
""", unsafe_allow_html=True)